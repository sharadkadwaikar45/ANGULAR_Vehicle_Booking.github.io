"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[1559],{61559:function(t,e,i){i.r(e),i.d(e,{FuelModule:function(){return ut}});var a=i(38583),n=i(63423),l=i(51095),o=i(7539),s=i(98295),c=i(76627),r=i(49983),u=i(33935),m=i(12178),d=i(72458),g=i(11494),h=i(67441),f=i(45396),p=i(11436),x=i(44466),Z=i(32789),C=i(99692),w=i(65939),D=i(88259),v=i.n(D),y=i(3679),A=i(54395),T=i(37716),F=i(22238),b=i(14965);function N(t,e){1&t&&(T.TgZ(0,"div",4),T._UZ(1,"img",5),T.qZA())}function q(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"button",19),T.NdJ("click",function(t){return t.stopPropagation()}),T.TgZ(1,"mat-checkbox",20),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.isChecked=e})("change",function(e){return T.CHM(t),T.oxw(2).onCheckboxChange(e)}),T.qZA(),T.TgZ(2,"div",21),T._uU(3),T.qZA(),T.qZA()}if(2&t){const t=e.$implicit;T.xp6(1),T.Q6J("ngModel",t.isChecked),T.xp6(2),T.Oqu(t.label)}}function S(t,e){1&t&&(T.TgZ(0,"div",26),T._UZ(1,"img",27),T.qZA())}function k(t,e){if(1&t&&(T.TgZ(0,"div",22),T.TgZ(1,"mat-form-field",23),T._UZ(2,"input",24),T.YNc(3,S,2,0,"div",25),T.qZA(),T.qZA()),2&t){const t=T.oxw(2);T.xp6(2),T.Q6J("formControl",t.searchControl),T.xp6(1),T.Q6J("ngIf",t.searchLoader)}}function _(t,e){1&t&&(T.TgZ(0,"th",50),T._uU(1," Sr.No "),T.qZA())}function I(t,e){if(1&t&&(T.TgZ(0,"td",51),T._uU(1),T.qZA()),2&t){const t=e.index,i=T.oxw(3);T.xp6(1),T.hij(" ",(i.page-1)*i.pageSize+t+1," ")}}function Y(t,e){1&t&&(T.TgZ(0,"th",52),T._uU(1,"Fuel Fill Date"),T.qZA())}function Q(t,e){if(1&t&&(T.TgZ(0,"td",53),T._uU(1),T.qZA()),2&t){const t=e.$implicit,i=T.oxw(3);T.xp6(1),T.hij(" ",i.convertDate(t.FuelFillDate),"")}}function J(t,e){1&t&&(T.TgZ(0,"th",52),T._uU(1,"Vehicle"),T.qZA())}function U(t,e){if(1&t&&(T.TgZ(0,"td",53),T._uU(1),T.qZA()),2&t){const t=e.$implicit;T.xp6(1),T.hij(" ",t.Vehicle," ")}}function M(t,e){1&t&&(T.TgZ(0,"th",52),T._uU(1,"Quantity (Lit)"),T.qZA())}function B(t,e){if(1&t&&(T.TgZ(0,"td",53),T._uU(1),T.qZA()),2&t){const t=e.$implicit;T.xp6(1),T.hij("",t.Quantity," ")}}function z(t,e){1&t&&(T.TgZ(0,"th",52),T._uU(1,"Fuel Total Price"),T.qZA())}function H(t,e){if(1&t&&(T.TgZ(0,"td",54),T._uU(1),T.qZA()),2&t){const t=e.$implicit;T.xp6(1),T.hij(" ",t.FuelTotalPrice," ")}}function P(t,e){1&t&&(T.TgZ(0,"th",52),T._uU(1,"Fuel Filled By"),T.qZA())}function O(t,e){if(1&t&&(T.TgZ(0,"td",54),T._uU(1),T.qZA()),2&t){const t=e.$implicit;T.xp6(1),T.hij(" ",t.FuelfilledBy," ")}}function j(t,e){1&t&&(T.TgZ(0,"th",52),T._uU(1,"Comment"),T.qZA())}function $(t,e){if(1&t&&(T.TgZ(0,"td",53),T._uU(1),T.qZA()),2&t){const t=e.$implicit;T.xp6(1),T.hij("",t.Comment," ")}}function L(t,e){1&t&&(T.TgZ(0,"th",52),T._uU(1,"Image"),T.qZA())}function R(t,e){if(1&t&&T._UZ(0,"img",57),2&t){const t=T.oxw().$implicit;T.Q6J("src",t.Image,T.LSH)}}function V(t,e){if(1&t&&(T.TgZ(0,"td",55),T.YNc(1,R,1,1,"img",56),T.qZA()),2&t){const t=e.$implicit;T.xp6(1),T.Q6J("ngIf",t.Image)}}function E(t,e){1&t&&(T.TgZ(0,"th",50),T._uU(1,"Status"),T.qZA())}function G(t,e){if(1&t&&(T.TgZ(0,"mat-option",62),T._uU(1),T.qZA()),2&t){const t=e.$implicit;T.Q6J("value",t.id),T.xp6(1),T.hij(" ",t.name," ")}}function X(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"td",55),T.TgZ(1,"div",58),T.TgZ(2,"mat-form-field",59),T.TgZ(3,"mat-select",60),T.NdJ("valueChange",function(e){return T.CHM(t).$implicit.Active=e})("selectionChange",function(e){const i=T.CHM(t).$implicit;return T.oxw(3).updateStatus(i.Id,e.value)}),T.YNc(4,G,2,2,"mat-option",61),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=e.$implicit,i=T.oxw(3);T.xp6(3),T.Q6J("value",t.Active),T.xp6(1),T.Q6J("ngForOf",i.status)}}function W(t,e){1&t&&(T.TgZ(0,"th",50),T._uU(1,"Action "),T.qZA())}function K(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"td",63),T.TgZ(1,"div",64),T.TgZ(2,"button",65),T.NdJ("click",function(){const e=T.CHM(t).$implicit;return T.oxw(3).deleteDetails(e.Id)}),T._UZ(3,"mat-icon",66),T.qZA(),T.qZA(),T.qZA()}}function tt(t,e){1&t&&T._UZ(0,"tr",67)}function et(t,e){1&t&&T._UZ(0,"tr",68)}const it=function(){return[5,10,25,100]};function at(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div"),T.TgZ(1,"table",28),T.NdJ("matSortChange",function(e){return T.CHM(t),T.oxw(2).onSortChange(e)}),T.ynx(2,29),T.YNc(3,_,2,0,"th",30),T.YNc(4,I,2,1,"td",31),T.BQk(),T.ynx(5,32),T.YNc(6,Y,2,0,"th",33),T.YNc(7,Q,2,1,"td",34),T.BQk(),T.ynx(8,35),T.YNc(9,J,2,0,"th",33),T.YNc(10,U,2,1,"td",34),T.BQk(),T.ynx(11,36),T.YNc(12,M,2,0,"th",33),T.YNc(13,B,2,1,"td",34),T.BQk(),T.ynx(14,37),T.YNc(15,z,2,0,"th",33),T.YNc(16,H,2,1,"td",38),T.BQk(),T.ynx(17,39),T.YNc(18,P,2,0,"th",33),T.YNc(19,O,2,1,"td",38),T.BQk(),T.ynx(20,40),T.YNc(21,j,2,0,"th",33),T.YNc(22,$,2,1,"td",34),T.BQk(),T.ynx(23,41),T.YNc(24,L,2,0,"th",33),T.YNc(25,V,2,1,"td",42),T.BQk(),T.ynx(26,43),T.YNc(27,E,2,0,"th",30),T.YNc(28,X,5,2,"td",42),T.BQk(),T.ynx(29,44),T.YNc(30,W,2,0,"th",30),T.YNc(31,K,4,0,"td",45),T.BQk(),T.YNc(32,tt,1,0,"tr",46),T.YNc(33,et,1,0,"tr",47),T.qZA(),T.TgZ(34,"div",48),T.TgZ(35,"mat-paginator",49),T.NdJ("page",function(e){return T.CHM(t),T.oxw(2).onPageChange(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=T.oxw(2);T.xp6(1),T.Q6J("dataSource",t.dataSource),T.xp6(31),T.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),T.xp6(1),T.Q6J("matRowDefColumns",t.displayedColumns),T.xp6(2),T.Q6J("pageSize",t.pageSize)("pageSizeOptions",T.DdM(7,it))("length",t.listDetailsData.length)}}function nt(t,e){1&t&&(T.TgZ(0,"div",69),T._uU(1,"No records found"),T.qZA())}function lt(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div"),T.TgZ(1,"div",6),T.TgZ(2,"span",7),T._uU(3,"Fuel Details"),T.qZA(),T.TgZ(4,"div",8),T.TgZ(5,"button",9),T.NdJ("click",function(){return T.CHM(t),T.oxw().search()}),T._UZ(6,"mat-icon",10),T.qZA(),T.TgZ(7,"button",11),T._UZ(8,"mat-icon",12),T.qZA(),T.TgZ(9,"mat-menu",null,13),T.YNc(11,q,4,2,"button",14),T.qZA(),T.qZA(),T.qZA(),T.TgZ(12,"form",15),T.YNc(13,k,4,2,"div",16),T.TgZ(14,"div",17),T.YNc(15,at,36,8,"div",3),T.YNc(16,nt,2,0,"div",18),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=T.MAs(10),e=T.oxw();T.xp6(7),T.Q6J("matMenuTriggerFor",t),T.xp6(1),T.Q6J("svgIcon","mat_outline:settings"),T.xp6(3),T.Q6J("ngForOf",e.checkboxes),T.xp6(1),T.Q6J("formGroup",e.listDetails),T.xp6(1),T.Q6J("ngIf",e.searchField),T.xp6(2),T.Q6J("ngIf",0!=(null==e.listDetailsData?null:e.listDetailsData.length)),T.xp6(1),T.Q6J("ngIf",0===(null==e.listDetailsData?null:e.listDetailsData.length))}}const ot=[{path:"list",component:(()=>{class t{constructor(t,e,i,a,n){this._formBuilder=t,this._route=e,this.dialog=i,this._activatedroute=a,this.BookingSystemService=n,this.displayedColumns=["Sr.No","FuelFillDate","Vehicle","Quantity","FuelTotalPrice","FuelfilledBy","Comment","Image","Status","Actions"],this.displayedColumns2=["Sr.No","FuelFillDate","Vehicle","Quantity","FuelTotalPrice","FuelfilledBy","Comment","Image","Status","Actions"],this.listLoader=!1,this.searchLoader=!1,this.searchField=!1,this.page=1,this.pageSize=5,this.startNum=0,this.sortValue="",this.columnIndex=0,this.searchControl=new y.NI,this.skeletonItems=new Array(5),this.index=1,this.pageIndex=0,this.status=[{id:1,name:"Active"},{id:2,name:"Pending"},{id:3,name:"Inactive"}],this.checkboxes=[{label:"Fuel Fill Date",element:"FuelFillDate",isChecked:!0},{label:"Vehicle",element:"Vehicle",isChecked:!0},{label:"Quantity",element:"Quantity",isChecked:!0},{label:"Fuel Total Price",element:"FuelTotalPrice",isChecked:!0},{label:"Fuel filled By",element:"FuelfilledBy",isChecked:!0},{label:"Address",element:"Address",isChecked:!0},{label:"Comment",element:"Comment",isChecked:!0},{label:"Image",element:"Image",isChecked:!0}]}ngOnInit(){this.BookingSystemService.getArray("fuel"),this.listLoader=!0,this.getData(),this.searchControl.valueChanges.pipe((0,A.b)(500)).subscribe(t=>{this.listDetails.value.search=t,this.applyFilter(this.listDetails.value.search)}),this.listDetails=this._formBuilder.group({search:[""]})}convertDate(t){function e(t){return t<10?"0"+t:t}var i=new Date(t),a=e(i.getDate()),n=["January","February","March","April","May","June","July","August","September","October","November","December"][i.getMonth()],l=i.getFullYear();return e(i.getHours()),e(i.getMinutes()),e(i.getSeconds()),[a,n,l].join(" ")}search(){this.page=1,this.pageIndex=0,this.pageSize=100,this.startNum=0,this.getData(),this.searchField=!this.searchField}applyFilter(t){this.dataSource.filter=t.trim().toLowerCase()}onPageChange(t){console.log(t),1==this.searchField&&(this.searchField=!this.searchField),this.pageIndex=t.pageIndex,this.page=t.pageIndex+1,this.pageSize=t.pageSize,this.startNum=this.pageSize*t.pageIndex,this.getData()}onSortChange(t){this.sortValue=t.direction,this.columnIndex=this.displayedColumns.indexOf(t.active),this.getData()}getData(){this.index=Number(this.pageIndex*this.pageSize),this.BookingSystemService.getData().subscribe(t=>{var e;if(this.listDetailsData=t,0!=(null===(e=this.listDetailsData)||void 0===e?void 0:e.length)){let t=this.listDetailsData.slice(this.pageIndex*this.pageSize,this.page*this.pageSize);this.dataSource=new Z.by(t)}this.listLoader=!1},t=>{console.error("Error loading data",t)})}deleteDetails(t){confirm("Are you sure you want to delete details")&&this.BookingSystemService.deleteData(t).subscribe(t=>{v().fire("","Data deleted succesfully","success"),this.getData()})}onCheckboxChange(t){this.displayedColumns=[];let e=[];this.checkboxes.forEach(t=>{0==t.isChecked&&e.push(t.element)}),this.displayedColumns=this.displayedColumns2.filter(t=>!e.includes(t))}updateStatus(){}}return t.\u0275fac=function(e){return new(e||t)(T.Y36(y.qu),T.Y36(n.F0),T.Y36(F.uw),T.Y36(n.gz),T.Y36(b.$))},t.\u0275cmp=T.Xpm({type:t,selectors:[["app-fuel-list"]],viewQuery:function(t,e){if(1&t&&(T.Gf(C.NW,5),T.Gf(g.YE,5)),2&t){let t;T.iGM(t=T.CRH())&&(e.paginatior=t.first),T.iGM(t=T.CRH())&&(e.sort=t.first)}},decls:4,vars:2,consts:[[1,"sm:col-span-2","md:col-span-4","flex","flex-col","flex-auto","bg-card","m-6","shadow","overflow-hidden"],[1,"xl:col-span-2","flex","flex-col","flex-auto","overflow-hidden"],["class","wrapper-loader mx-auto mt-6",4,"ngIf"],[4,"ngIf"],[1,"wrapper-loader","mx-auto","mt-6"],["src","assets/images/icons/movingcar.gif","alt","",1,"w30","rounded-full",2,"width","100px","margin-left","auto","margin-right","auto"],[1,"flex","justify-between","p-4",2,"align-items","center"],[1,"flex","items-center","font-bold","text-lg"],[1,"flex","items-center"],["mat-icon-button","",1,"flex","self-center",3,"click"],["svgIcon","mat_solid:search",1,"bb","icon-size-5"],["mat-icon-button","",1,"flex","self-center",3,"matMenuTriggerFor"],[1,"icon-size-5","bb",3,"svgIcon"],["listMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[3,"formGroup"],["class","flex justify-center mt-2","style","align-items: center;",4,"ngIf"],[1,"mat-elevation-z8","mx-4",2,"overflow-x","auto","box-shadow","none!important"],["class","text-center py-3",4,"ngIf"],["mat-menu-item","",3,"click"],[2,"margin-left","5px",3,"ngModel","ngModelChange","change"],[2,"margin-left","5px"],[1,"flex","justify-center","mt-2",2,"align-items","center"],[1,"example-full-width","mr-6",2,"width","70%","height","41px"],["matInput","","placeholder","Search",3,"formControl"],["class","wrapper-loader",4,"ngIf"],[1,"wrapper-loader"],["src","assets/images/img/green_spinner.gif","alt","",1,"w30","rounded-full",2,"width","30px","margin-left","auto","margin-right","auto"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","Sr.No"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","style","width: 80px;",4,"matCellDef"],["matColumnDef","FuelFillDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","style","text-align:left!important; ",4,"matCellDef"],["matColumnDef","Vehicle"],["matColumnDef","Quantity"],["matColumnDef","FuelTotalPrice"],["mat-cell","","style","text-align:left!important; width: 100px;",4,"matCellDef"],["matColumnDef","FuelfilledBy"],["matColumnDef","Comment"],["matColumnDef","Image"],["mat-cell","",4,"matCellDef"],["matColumnDef","Status"],["matColumnDef","Actions"],["mat-cell","","style","width: 100px;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"flex","justify-end",2,"align-items","center"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","length","page"],["mat-header-cell",""],["mat-cell","",2,"width","80px"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"text-align","left!important"],["mat-cell","",2,"text-align","left!important","width","100px"],["mat-cell",""],["alt","Fuel Receipt","class"," border rounded-xl w-20 h-10",3,"src",4,"ngIf"],["alt","Fuel Receipt",1,"border","rounded-xl","w-20","h-10",3,"src"],[1,"flex","flex-row","flex-auto","overflow-hidden","items-center"],[1,"dropsearch","status"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-cell","",2,"width","100px"],[1,"flex","flex-row","flex-auto","overflow-hidden","justify-center","items-center","px-2"],["mat-icon-button","","matTooltipPosition","above","matTooltip","Delete",1,"flex","self-center","w-6","min-w-0","min-h-0",3,"click"],["svgIcon","mat_solid:delete",1,"icon-size-4","text-red-400"],["mat-header-row",""],["mat-row",""],[1,"text-center","py-3"]],template:function(t,e){1&t&&(T.TgZ(0,"div",0),T.TgZ(1,"div",1),T.YNc(2,N,2,0,"div",2),T.YNc(3,lt,17,7,"div",3),T.qZA(),T.qZA()),2&t&&(T.xp6(2),T.Q6J("ngIf",e.listLoader),T.xp6(1),T.Q6J("ngIf",!e.listLoader))},directives:[a.O5,l.lW,c.Hw,u.p6,u.VK,a.sg,y._Y,y.JL,y.sg,u.OP,o.oG,y.JJ,y.On,s.KE,r.Nt,y.Fj,y.oH,Z.BZ,g.YE,Z.w1,Z.fO,Z.Dz,Z.as,Z.nj,C.NW,Z.ge,Z.ev,g.nU,h.gD,d.ey,p.gM,Z.XQ,Z.Gk],styles:["a[_ngcontent-%COMP%]{color:#3d83f6}.dropsearch[_ngcontent-%COMP%]{width:-webkit-fill-available!important}  .mat-form-field.dropsearch.mat-form-field-appearance-fill .mat-form-field-wrapper{margin-bottom:0!important}.pointer[_ngcontent-%COMP%]{cursor:no-drop}  .mat-radio-outer-circle{height:15px!important;width:15px!important}  .mat-paginator .mat-paginator-container .mat-paginator-range-actions{margin:0 10px 10px 0!important}.mat-icon-button[_ngcontent-%COMP%]{min-width:0!important;width:30px!important;min-height:0!important;height:30px!important}  .mat-paginator-icon{width:24px!important}  .mat-paginator-range-label{margin:0 10px!important}  .mat-paginator .mat-paginator-container .mat-paginator-page-size .mat-paginator-page-size-label{margin-bottom:10px!important}"]}),t})()}];var st=i(36063),ct=i(43220),rt=i(34256);let ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=T.oAB({type:t}),t.\u0275inj=T.cJS({imports:[[n.Bz.forChild(ot),l.ot,o.p9,s.lN,c.Ps,r.c,u.Tx,m.Cv,d.si,g.JX,h.LD,f.rP,p.AV,x.m,Z.p0,C.TU,w.Nh,ct.FA,st.Yd,a.ez,rt.X]]}),t})()}}]);