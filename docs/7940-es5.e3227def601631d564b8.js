!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,(n=a.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,e||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(n,"string"))?o:String(o)),a)}var n,o}function i(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[7940],{57940:function(e,a,n){n.r(a),n.d(a,{BookingModule:function(){return ft}});var o=n(38583),r=n(63423),l=n(51095),c=n(7539),s=n(98295),u=n(76627),m=n(49983),p=n(33935),f=n(12178),d=n(72458),g=n(11494),h=n(67441),v=n(45396),x=n(11436),Z=n(44466),w=n(32789),C=n(99692),y=n(65939),b=n(88259),T=n.n(b),D=n(3679),N=n(54395),A=n(37716),k=n(22238),q=n(14965);function S(t,e){1&t&&(A.TgZ(0,"div",4),A._UZ(1,"img",5),A.qZA())}function _(t,e){if(1&t){var i=A.EpF();A.TgZ(0,"button",19),A.NdJ("click",function(t){return t.stopPropagation()}),A.TgZ(1,"mat-checkbox",20),A.NdJ("ngModelChange",function(t){return A.CHM(i).$implicit.isChecked=t})("change",function(t){return A.CHM(i),A.oxw(2).onCheckboxChange(t)}),A.qZA(),A.TgZ(2,"div",21),A._uU(3),A.qZA(),A.qZA()}if(2&t){var a=e.$implicit;A.xp6(1),A.Q6J("ngModel",a.isChecked),A.xp6(2),A.Oqu(a.label)}}function I(t,e){1&t&&(A.TgZ(0,"div",26),A._UZ(1,"img",27),A.qZA())}function Y(t,e){if(1&t&&(A.TgZ(0,"div",22),A.TgZ(1,"mat-form-field",23),A._UZ(2,"input",24),A.YNc(3,I,2,0,"div",25),A.qZA(),A.qZA()),2&t){var i=A.oxw(2);A.xp6(2),A.Q6J("formControl",i.searchControl),A.xp6(1),A.Q6J("ngIf",i.searchLoader)}}function J(t,e){1&t&&(A.TgZ(0,"th",47),A._uU(1," Sr.No "),A.qZA())}function Q(t,e){if(1&t&&(A.TgZ(0,"td",48),A._uU(1),A.qZA()),2&t){var i=e.index,a=A.oxw(3);A.xp6(1),A.hij(" ",(a.page-1)*a.pageSize+i+1," ")}}function P(t,e){1&t&&(A.TgZ(0,"th",49),A._uU(1,"Customer Name"),A.qZA())}var U=function(t){return["/apps/user/view",t]};function M(t,e){if(1&t&&(A.TgZ(0,"td",50),A.TgZ(1,"a",51),A._uU(2),A.qZA(),A.qZA()),2&t){var i=e.$implicit;A.xp6(1),A.Q6J("routerLink",A.VKq(2,U,i.Id)),A.xp6(1),A.Oqu(i.CustName)}}function F(t,e){1&t&&(A.TgZ(0,"th",49),A._uU(1,"Driver Name"),A.qZA())}var z=function(t){return["/apps/driver/view",t]};function O(t,e){if(1&t&&(A.TgZ(0,"td",50),A.TgZ(1,"a",51),A._uU(2),A.qZA(),A.qZA()),2&t){var i=e.$implicit;A.xp6(1),A.Q6J("routerLink",A.VKq(2,z,i.Id)),A.xp6(1),A.Oqu(i.DriverName)}}function B(t,e){1&t&&(A.TgZ(0,"th",49),A._uU(1,"Vehicle"),A.qZA())}var E=function(t){return["/apps/vehicle/view",t]};function H(t,e){if(1&t&&(A.TgZ(0,"td",50),A.TgZ(1,"a",51),A._uU(2),A.qZA(),A.qZA()),2&t){var i=e.$implicit;A.xp6(1),A.Q6J("routerLink",A.VKq(2,E,i.Id)),A.xp6(1),A.Oqu(i.Vehicle)}}function L(t,e){1&t&&(A.TgZ(0,"th",49),A._uU(1,"Type"),A.qZA())}function j(t,e){if(1&t&&(A.TgZ(0,"td",50),A._uU(1),A.qZA()),2&t){var i=e.$implicit;A.xp6(1),A.Oqu(i.Type)}}function $(t,e){1&t&&(A.TgZ(0,"th",49),A._uU(1,"StartPlace"),A.qZA())}function V(t,e){if(1&t&&(A.TgZ(0,"td",50),A._uU(1),A.qZA()),2&t){var i=e.$implicit;A.xp6(1),A.hij(" ",i.StartPlace," ")}}function R(t,e){1&t&&(A.TgZ(0,"th",49),A._uU(1,"EndPlace"),A.qZA())}function G(t,e){if(1&t&&(A.TgZ(0,"td",50),A._uU(1),A.qZA()),2&t){var i=e.$implicit;A.xp6(1),A.Oqu(i.EndPlace)}}function K(t,e){1&t&&(A.TgZ(0,"th",47),A._uU(1,"Status"),A.qZA())}function X(t,e){if(1&t&&(A.TgZ(0,"mat-option",57),A._uU(1),A.qZA()),2&t){var i=e.$implicit;A.Q6J("value",i.id),A.xp6(1),A.hij(" ",i.name," ")}}function W(t,e){if(1&t){var i=A.EpF();A.TgZ(0,"td",52),A.TgZ(1,"div",53),A.TgZ(2,"mat-form-field",54),A.TgZ(3,"mat-select",55),A.NdJ("valueChange",function(t){return A.CHM(i).$implicit.Active=t})("selectionChange",function(t){var e=A.CHM(i).$implicit;return A.oxw(3).updateStatus(e.Id,t.value)}),A.YNc(4,X,2,2,"mat-option",56),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){var a=e.$implicit,n=A.oxw(3);A.xp6(3),A.Q6J("value",a.Active),A.xp6(1),A.Q6J("ngForOf",n.status)}}function tt(t,e){1&t&&(A.TgZ(0,"th",47),A._uU(1,"Action "),A.qZA())}function et(t,e){if(1&t){var i=A.EpF();A.TgZ(0,"td",52),A.TgZ(1,"div",58),A.TgZ(2,"button",59),A.NdJ("click",function(){var t=A.CHM(i).$implicit;return A.oxw(3).liveDetails(t.Id)}),A._UZ(3,"mat-icon",60),A.qZA(),A._uU(4,"| "),A.TgZ(5,"button",61),A.NdJ("click",function(){var t=A.CHM(i).$implicit;return A.oxw(3).deleteDetails(t.Id)}),A._UZ(6,"mat-icon",62),A.qZA(),A.qZA(),A.qZA()}}function it(t,e){1&t&&A._UZ(0,"tr",63)}function at(t,e){1&t&&A._UZ(0,"tr",64)}var nt=function(){return[5,10,25,100]};function ot(t,e){if(1&t){var i=A.EpF();A.TgZ(0,"div"),A.TgZ(1,"table",28),A.NdJ("matSortChange",function(t){return A.CHM(i),A.oxw(2).onSortChange(t)}),A.ynx(2,29),A.YNc(3,J,2,0,"th",30),A.YNc(4,Q,2,1,"td",31),A.BQk(),A.ynx(5,32),A.YNc(6,P,2,0,"th",33),A.YNc(7,M,3,4,"td",34),A.BQk(),A.ynx(8,35),A.YNc(9,F,2,0,"th",33),A.YNc(10,O,3,4,"td",34),A.BQk(),A.ynx(11,36),A.YNc(12,B,2,0,"th",33),A.YNc(13,H,3,4,"td",34),A.BQk(),A.ynx(14,37),A.YNc(15,L,2,0,"th",33),A.YNc(16,j,2,1,"td",34),A.BQk(),A.ynx(17,38),A.YNc(18,$,2,0,"th",33),A.YNc(19,V,2,1,"td",34),A.BQk(),A.ynx(20,39),A.YNc(21,R,2,0,"th",33),A.YNc(22,G,2,1,"td",34),A.BQk(),A.ynx(23,40),A.YNc(24,K,2,0,"th",30),A.YNc(25,W,5,2,"td",41),A.BQk(),A.ynx(26,42),A.YNc(27,tt,2,0,"th",30),A.YNc(28,et,7,0,"td",41),A.BQk(),A.YNc(29,it,1,0,"tr",43),A.YNc(30,at,1,0,"tr",44),A.qZA(),A.TgZ(31,"div",45),A.TgZ(32,"mat-paginator",46),A.NdJ("page",function(t){return A.CHM(i),A.oxw(2).onPageChange(t)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){var a=A.oxw(2);A.xp6(1),A.Q6J("dataSource",a.dataSource),A.xp6(28),A.Q6J("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),A.xp6(1),A.Q6J("matRowDefColumns",a.displayedColumns),A.xp6(2),A.Q6J("pageSize",a.pageSize)("pageSizeOptions",A.DdM(7,nt))("length",a.listDetailsData.length)}}function rt(t,e){1&t&&(A.TgZ(0,"div",65),A._uU(1,"No records found"),A.qZA())}function lt(t,e){if(1&t){var i=A.EpF();A.TgZ(0,"div"),A.TgZ(1,"div",6),A.TgZ(2,"span",7),A._uU(3,"Booking Details"),A.qZA(),A.TgZ(4,"div",8),A.TgZ(5,"button",9),A.NdJ("click",function(){return A.CHM(i),A.oxw().search()}),A._UZ(6,"mat-icon",10),A.qZA(),A.TgZ(7,"button",11),A._UZ(8,"mat-icon",12),A.qZA(),A.TgZ(9,"mat-menu",null,13),A.YNc(11,_,4,2,"button",14),A.qZA(),A.qZA(),A.qZA(),A.TgZ(12,"form",15),A.YNc(13,Y,4,2,"div",16),A.TgZ(14,"div",17),A.YNc(15,ot,33,8,"div",3),A.YNc(16,rt,2,0,"div",18),A.qZA(),A.qZA(),A.qZA()}if(2&t){var a=A.MAs(10),n=A.oxw();A.xp6(7),A.Q6J("matMenuTriggerFor",a),A.xp6(1),A.Q6J("svgIcon","mat_outline:settings"),A.xp6(3),A.Q6J("ngForOf",n.checkboxes),A.xp6(1),A.Q6J("formGroup",n.listDetails),A.xp6(1),A.Q6J("ngIf",n.searchField),A.xp6(2),A.Q6J("ngIf",0!=(null==n.listDetailsData?null:n.listDetailsData.length)),A.xp6(1),A.Q6J("ngIf",0===(null==n.listDetailsData?null:n.listDetailsData.length))}}var ct,st=[{path:"list",component:(ct=function(){function e(i,a,n,o,r){t(this,e),this._formBuilder=i,this._route=a,this.dialog=n,this._activatedroute=o,this.BookingSystemService=r,this.displayedColumns=["Sr.No","CustName","DriName","Vehicle","Type","StartPlace","EndPlace","Status","Actions"],this.displayedColumns2=["Sr.No","CustName","DriName","Vehicle","Type","StartPlace","EndPlace","Status","Actions"],this.listLoader=!1,this.searchLoader=!1,this.searchField=!1,this.page=1,this.pageSize=5,this.startNum=0,this.sortValue="",this.columnIndex=0,this.searchControl=new D.NI,this.skeletonItems=new Array(5),this.index=1,this.pageIndex=0,this.status=[{id:1,name:"Active"},{id:2,name:"Pending"},{id:3,name:"Inactive"}],this.checkboxes=[{label:"Customer Name",element:"CustName",isChecked:!0},{label:"Driver Name",element:"DriName",isChecked:!0},{label:"Vehicle",element:"Vehicle",isChecked:!0},{label:"Type",element:"Type",isChecked:!0},{label:"Start Place",element:"StartPlace",isChecked:!0},{label:"End Place",element:"EndPlace",isChecked:!0}]}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.BookingSystemService.getArray("booking"),this.listLoader=!0,this.getData(),this.searchControl.valueChanges.pipe((0,N.b)(500)).subscribe(function(e){t.listDetails.value.search=e,t.applyFilter(t.listDetails.value.search)}),this.listDetails=this._formBuilder.group({search:[""]})}},{key:"search",value:function(){this.page=1,this.pageIndex=0,this.pageSize=100,this.startNum=0,this.getData(),this.searchField=!this.searchField}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.trim().toLowerCase()}},{key:"onPageChange",value:function(t){console.log(t),1==this.searchField&&(this.searchField=!this.searchField),this.pageIndex=t.pageIndex,this.page=t.pageIndex+1,this.pageSize=t.pageSize,this.startNum=this.pageSize*t.pageIndex,this.getData()}},{key:"onSortChange",value:function(t){this.sortValue=t.direction,this.columnIndex=this.displayedColumns.indexOf(t.active),this.getData()}},{key:"getData",value:function(){var t=this;this.index=Number(this.pageIndex*this.pageSize),this.BookingSystemService.getData().subscribe(function(e){var i;if(t.listDetailsData=e,0!=(null===(i=t.listDetailsData)||void 0===i?void 0:i.length)){var a=t.listDetailsData.slice(t.pageIndex*t.pageSize,t.page*t.pageSize);t.dataSource=new w.by(a)}t.listLoader=!1},function(t){console.error("Error loading data",t)})}},{key:"deleteDetails",value:function(t){var e=this;confirm("Are you sure you want to delete this details")&&this.BookingSystemService.deleteData(t).subscribe(function(t){T().fire("","Data deleted succesfully","success"),e.getData()})}},{key:"onCheckboxChange",value:function(t){this.displayedColumns=[];var e=[];this.checkboxes.forEach(function(t){0==t.isChecked&&e.push(t.element)}),this.displayedColumns=this.displayedColumns2.filter(function(t){return!e.includes(t)})}},{key:"updateStatus",value:function(){}}]),e}(),ct.\u0275fac=function(t){return new(t||ct)(A.Y36(D.qu),A.Y36(r.F0),A.Y36(k.uw),A.Y36(r.gz),A.Y36(q.$))},ct.\u0275cmp=A.Xpm({type:ct,selectors:[["app-booking-list"]],viewQuery:function(t,e){var i;1&t&&(A.Gf(C.NW,5),A.Gf(g.YE,5)),2&t&&(A.iGM(i=A.CRH())&&(e.paginatior=i.first),A.iGM(i=A.CRH())&&(e.sort=i.first))},decls:4,vars:2,consts:[[1,"sm:col-span-2","md:col-span-4","flex","flex-col","flex-auto","bg-card","m-6","shadow","overflow-hidden"],[1,"xl:col-span-2","flex","flex-col","flex-auto","overflow-hidden"],["class","wrapper-loader mx-auto mt-6",4,"ngIf"],[4,"ngIf"],[1,"wrapper-loader","mx-auto","mt-6"],["src","assets/images/icons/movingcar.gif","alt","",1,"w30","rounded-full",2,"width","100px","margin-left","auto","margin-right","auto"],[1,"flex","justify-between","p-4",2,"align-items","center"],[1,"flex","items-center","font-bold","text-lg"],[1,"flex","items-center"],["mat-icon-button","",1,"flex","self-center",3,"click"],["svgIcon","mat_solid:search",1,"bb","icon-size-5"],["mat-icon-button","",1,"flex","self-center",3,"matMenuTriggerFor"],[1,"icon-size-5","bb",3,"svgIcon"],["listMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[3,"formGroup"],["class","flex justify-center mt-2","style","align-items: center;",4,"ngIf"],[1,"mat-elevation-z8","mx-4",2,"overflow-x","auto","box-shadow","none!important"],["class","text-center py-3",4,"ngIf"],["mat-menu-item","",3,"click"],[2,"margin-left","5px",3,"ngModel","ngModelChange","change"],[2,"margin-left","5px"],[1,"flex","justify-center","mt-2",2,"align-items","center"],[1,"example-full-width","mr-6",2,"width","70%","height","41px"],["matInput","","placeholder","Search",3,"formControl"],["class","wrapper-loader",4,"ngIf"],[1,"wrapper-loader"],["src","assets/images/img/green_spinner.gif","alt","",1,"w30","rounded-full",2,"width","30px","margin-left","auto","margin-right","auto"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","Sr.No"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","style","width: 80px;",4,"matCellDef"],["matColumnDef","CustName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","style","text-align:left!important; ",4,"matCellDef"],["matColumnDef","DriName"],["matColumnDef","Vehicle"],["matColumnDef","Type"],["matColumnDef","StartPlace"],["matColumnDef","EndPlace"],["matColumnDef","Status"],["mat-cell","","style","width: 100px;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"flex","justify-end",2,"align-items","center"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","length","page"],["mat-header-cell",""],["mat-cell","",2,"width","80px"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"text-align","left!important"],[2,"color","blue","cursor","pointer",3,"routerLink"],["mat-cell","",2,"width","100px"],[1,"flex","flex-row","flex-auto","overflow-hidden","items-center","px-2"],[1,"dropsearch","status"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-row","flex-auto","overflow-hidden","justify-center","items-center","px-2"],["mat-icon-button","","matTooltipPosition","above","matTooltip","Live",1,"flex","self-center","w-6","min-w-0","min-h-0",3,"click"],["svgIcon","mat_solid:where_to_vote",1,"icon-size-4","text-green-400"],["mat-icon-button","","matTooltipPosition","above","matTooltip","Delete",1,"flex","self-center","w-6","min-w-0","min-h-0",3,"click"],["svgIcon","mat_solid:delete",1,"icon-size-4","text-red-400"],["mat-header-row",""],["mat-row",""],[1,"text-center","py-3"]],template:function(t,e){1&t&&(A.TgZ(0,"div",0),A.TgZ(1,"div",1),A.YNc(2,S,2,0,"div",2),A.YNc(3,lt,17,7,"div",3),A.qZA(),A.qZA()),2&t&&(A.xp6(2),A.Q6J("ngIf",e.listLoader),A.xp6(1),A.Q6J("ngIf",!e.listLoader))},directives:[o.O5,l.lW,u.Hw,p.p6,p.VK,o.sg,D._Y,D.JL,D.sg,p.OP,c.oG,D.JJ,D.On,s.KE,m.Nt,D.Fj,D.oH,w.BZ,g.YE,w.w1,w.fO,w.Dz,w.as,w.nj,C.NW,w.ge,w.ev,g.nU,r.yS,h.gD,d.ey,x.gM,w.XQ,w.Gk],styles:[".mat-form-field.mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0!important}.dropsearch[_ngcontent-%COMP%]{width:-webkit-fill-available!important;min-height:25px!important;width:100px!important}  .mat-form-field.dropsearch.mat-form-field-appearance-fill .mat-form-field-wrapper{margin-bottom:0!important}.pointer[_ngcontent-%COMP%]{cursor:no-drop}  .mat-radio-outer-circle{height:15px!important;width:15px!important}  .mat-paginator .mat-paginator-container .mat-paginator-range-actions{margin:0 10px 10px 0!important}.mat-icon-button[_ngcontent-%COMP%]{min-width:0!important;width:30px!important;min-height:0!important;height:30px!important}  .mat-paginator-icon{width:24px!important}  .mat-paginator-range-label{margin:0 10px!important}  .mat-paginator .mat-paginator-container .mat-paginator-page-size .mat-paginator-page-size-label{margin-bottom:10px!important}"]}),ct)}],ut=n(36063),mt=n(43220),pt=n(34256),ft=function(){var e=i(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=A.oAB({type:e}),e.\u0275inj=A.cJS({imports:[[r.Bz.forChild(st),l.ot,c.p9,s.lN,u.Ps,m.c,p.Tx,f.Cv,d.si,g.JX,h.LD,v.rP,x.AV,Z.m,w.p0,C.TU,y.Nh,mt.FA,ut.Yd,o.ez,pt.X]]}),e}()}}])}();