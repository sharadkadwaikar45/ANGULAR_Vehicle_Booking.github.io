"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[7940],{57940:function(t,e,i){i.r(e),i.d(e,{BookingModule:function(){return mt}});var a=i(38583),n=i(63423),o=i(51095),l=i(7539),s=i(98295),r=i(76627),c=i(49983),m=i(33935),u=i(12178),d=i(72458),p=i(11494),g=i(67441),h=i(45396),f=i(11436),x=i(44466),Z=i(32789),C=i(99692),v=i(65939),w=i(88259),D=i.n(w),T=i(3679),A=i(54395),N=i(37716),q=i(22238),b=i(14965);function y(t,e){1&t&&(N.TgZ(0,"div",4),N._UZ(1,"img",5),N.qZA())}function k(t,e){if(1&t){const t=N.EpF();N.TgZ(0,"button",19),N.NdJ("click",function(t){return t.stopPropagation()}),N.TgZ(1,"mat-checkbox",20),N.NdJ("ngModelChange",function(e){return N.CHM(t).$implicit.isChecked=e})("change",function(e){return N.CHM(t),N.oxw(2).onCheckboxChange(e)}),N.qZA(),N.TgZ(2,"div",21),N._uU(3),N.qZA(),N.qZA()}if(2&t){const t=e.$implicit;N.xp6(1),N.Q6J("ngModel",t.isChecked),N.xp6(2),N.Oqu(t.label)}}function S(t,e){1&t&&(N.TgZ(0,"div",26),N._UZ(1,"img",27),N.qZA())}function _(t,e){if(1&t&&(N.TgZ(0,"div",22),N.TgZ(1,"mat-form-field",23),N._UZ(2,"input",24),N.YNc(3,S,2,0,"div",25),N.qZA(),N.qZA()),2&t){const t=N.oxw(2);N.xp6(2),N.Q6J("formControl",t.searchControl),N.xp6(1),N.Q6J("ngIf",t.searchLoader)}}function I(t,e){1&t&&(N.TgZ(0,"th",47),N._uU(1," Sr.No "),N.qZA())}function Y(t,e){if(1&t&&(N.TgZ(0,"td",48),N._uU(1),N.qZA()),2&t){const t=e.index,i=N.oxw(3);N.xp6(1),N.hij(" ",(i.page-1)*i.pageSize+t+1," ")}}function J(t,e){1&t&&(N.TgZ(0,"th",49),N._uU(1,"Customer Name"),N.qZA())}const Q=function(t){return["/apps/user/view",t]};function U(t,e){if(1&t&&(N.TgZ(0,"td",50),N.TgZ(1,"a",51),N._uU(2),N.qZA(),N.qZA()),2&t){const t=e.$implicit;N.xp6(1),N.Q6J("routerLink",N.VKq(2,Q,t.Id)),N.xp6(1),N.Oqu(t.CustName)}}function M(t,e){1&t&&(N.TgZ(0,"th",49),N._uU(1,"Driver Name"),N.qZA())}const P=function(t){return["/apps/driver/view",t]};function F(t,e){if(1&t&&(N.TgZ(0,"td",50),N.TgZ(1,"a",51),N._uU(2),N.qZA(),N.qZA()),2&t){const t=e.$implicit;N.xp6(1),N.Q6J("routerLink",N.VKq(2,P,t.Id)),N.xp6(1),N.Oqu(t.DriverName)}}function z(t,e){1&t&&(N.TgZ(0,"th",49),N._uU(1,"Vehicle"),N.qZA())}const O=function(t){return["/apps/vehicle/view",t]};function B(t,e){if(1&t&&(N.TgZ(0,"td",50),N.TgZ(1,"a",51),N._uU(2),N.qZA(),N.qZA()),2&t){const t=e.$implicit;N.xp6(1),N.Q6J("routerLink",N.VKq(2,O,t.Id)),N.xp6(1),N.Oqu(t.Vehicle)}}function H(t,e){1&t&&(N.TgZ(0,"th",49),N._uU(1,"Type"),N.qZA())}function E(t,e){if(1&t&&(N.TgZ(0,"td",50),N._uU(1),N.qZA()),2&t){const t=e.$implicit;N.xp6(1),N.Oqu(t.Type)}}function L(t,e){1&t&&(N.TgZ(0,"th",49),N._uU(1,"StartPlace"),N.qZA())}function $(t,e){if(1&t&&(N.TgZ(0,"td",50),N._uU(1),N.qZA()),2&t){const t=e.$implicit;N.xp6(1),N.hij(" ",t.StartPlace," ")}}function V(t,e){1&t&&(N.TgZ(0,"th",49),N._uU(1,"EndPlace"),N.qZA())}function j(t,e){if(1&t&&(N.TgZ(0,"td",50),N._uU(1),N.qZA()),2&t){const t=e.$implicit;N.xp6(1),N.Oqu(t.EndPlace)}}function R(t,e){1&t&&(N.TgZ(0,"th",47),N._uU(1,"Status"),N.qZA())}function G(t,e){if(1&t&&(N.TgZ(0,"mat-option",57),N._uU(1),N.qZA()),2&t){const t=e.$implicit;N.Q6J("value",t.id),N.xp6(1),N.hij(" ",t.name," ")}}function K(t,e){if(1&t){const t=N.EpF();N.TgZ(0,"td",52),N.TgZ(1,"div",53),N.TgZ(2,"mat-form-field",54),N.TgZ(3,"mat-select",55),N.NdJ("valueChange",function(e){return N.CHM(t).$implicit.Active=e})("selectionChange",function(e){const i=N.CHM(t).$implicit;return N.oxw(3).updateStatus(i.Id,e.value)}),N.YNc(4,G,2,2,"mat-option",56),N.qZA(),N.qZA(),N.qZA(),N.qZA()}if(2&t){const t=e.$implicit,i=N.oxw(3);N.xp6(3),N.Q6J("value",t.Active),N.xp6(1),N.Q6J("ngForOf",i.status)}}function X(t,e){1&t&&(N.TgZ(0,"th",47),N._uU(1,"Action "),N.qZA())}function W(t,e){if(1&t){const t=N.EpF();N.TgZ(0,"td",52),N.TgZ(1,"div",58),N.TgZ(2,"button",59),N.NdJ("click",function(){const e=N.CHM(t).$implicit;return N.oxw(3).liveDetails(e.Id)}),N._UZ(3,"mat-icon",60),N.qZA(),N._uU(4,"| "),N.TgZ(5,"button",61),N.NdJ("click",function(){const e=N.CHM(t).$implicit;return N.oxw(3).deleteDetails(e.Id)}),N._UZ(6,"mat-icon",62),N.qZA(),N.qZA(),N.qZA()}}function tt(t,e){1&t&&N._UZ(0,"tr",63)}function et(t,e){1&t&&N._UZ(0,"tr",64)}const it=function(){return[5,10,25,100]};function at(t,e){if(1&t){const t=N.EpF();N.TgZ(0,"div"),N.TgZ(1,"table",28),N.NdJ("matSortChange",function(e){return N.CHM(t),N.oxw(2).onSortChange(e)}),N.ynx(2,29),N.YNc(3,I,2,0,"th",30),N.YNc(4,Y,2,1,"td",31),N.BQk(),N.ynx(5,32),N.YNc(6,J,2,0,"th",33),N.YNc(7,U,3,4,"td",34),N.BQk(),N.ynx(8,35),N.YNc(9,M,2,0,"th",33),N.YNc(10,F,3,4,"td",34),N.BQk(),N.ynx(11,36),N.YNc(12,z,2,0,"th",33),N.YNc(13,B,3,4,"td",34),N.BQk(),N.ynx(14,37),N.YNc(15,H,2,0,"th",33),N.YNc(16,E,2,1,"td",34),N.BQk(),N.ynx(17,38),N.YNc(18,L,2,0,"th",33),N.YNc(19,$,2,1,"td",34),N.BQk(),N.ynx(20,39),N.YNc(21,V,2,0,"th",33),N.YNc(22,j,2,1,"td",34),N.BQk(),N.ynx(23,40),N.YNc(24,R,2,0,"th",30),N.YNc(25,K,5,2,"td",41),N.BQk(),N.ynx(26,42),N.YNc(27,X,2,0,"th",30),N.YNc(28,W,7,0,"td",41),N.BQk(),N.YNc(29,tt,1,0,"tr",43),N.YNc(30,et,1,0,"tr",44),N.qZA(),N.TgZ(31,"div",45),N.TgZ(32,"mat-paginator",46),N.NdJ("page",function(e){return N.CHM(t),N.oxw(2).onPageChange(e)}),N.qZA(),N.qZA(),N.qZA()}if(2&t){const t=N.oxw(2);N.xp6(1),N.Q6J("dataSource",t.dataSource),N.xp6(28),N.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),N.xp6(1),N.Q6J("matRowDefColumns",t.displayedColumns),N.xp6(2),N.Q6J("pageSize",t.pageSize)("pageSizeOptions",N.DdM(7,it))("length",t.listDetailsData.length)}}function nt(t,e){1&t&&(N.TgZ(0,"div",65),N._uU(1,"No records found"),N.qZA())}function ot(t,e){if(1&t){const t=N.EpF();N.TgZ(0,"div"),N.TgZ(1,"div",6),N.TgZ(2,"span",7),N._uU(3,"Booking Details"),N.qZA(),N.TgZ(4,"div",8),N.TgZ(5,"button",9),N.NdJ("click",function(){return N.CHM(t),N.oxw().search()}),N._UZ(6,"mat-icon",10),N.qZA(),N.TgZ(7,"button",11),N._UZ(8,"mat-icon",12),N.qZA(),N.TgZ(9,"mat-menu",null,13),N.YNc(11,k,4,2,"button",14),N.qZA(),N.qZA(),N.qZA(),N.TgZ(12,"form",15),N.YNc(13,_,4,2,"div",16),N.TgZ(14,"div",17),N.YNc(15,at,33,8,"div",3),N.YNc(16,nt,2,0,"div",18),N.qZA(),N.qZA(),N.qZA()}if(2&t){const t=N.MAs(10),e=N.oxw();N.xp6(7),N.Q6J("matMenuTriggerFor",t),N.xp6(1),N.Q6J("svgIcon","mat_outline:settings"),N.xp6(3),N.Q6J("ngForOf",e.checkboxes),N.xp6(1),N.Q6J("formGroup",e.listDetails),N.xp6(1),N.Q6J("ngIf",e.searchField),N.xp6(2),N.Q6J("ngIf",0!=(null==e.listDetailsData?null:e.listDetailsData.length)),N.xp6(1),N.Q6J("ngIf",0===(null==e.listDetailsData?null:e.listDetailsData.length))}}const lt=[{path:"list",component:(()=>{class t{constructor(t,e,i,a,n){this._formBuilder=t,this._route=e,this.dialog=i,this._activatedroute=a,this.BookingSystemService=n,this.displayedColumns=["Sr.No","CustName","DriName","Vehicle","Type","StartPlace","EndPlace","Status","Actions"],this.displayedColumns2=["Sr.No","CustName","DriName","Vehicle","Type","StartPlace","EndPlace","Status","Actions"],this.listLoader=!1,this.searchLoader=!1,this.searchField=!1,this.page=1,this.pageSize=5,this.startNum=0,this.sortValue="",this.columnIndex=0,this.searchControl=new T.NI,this.skeletonItems=new Array(5),this.index=1,this.pageIndex=0,this.status=[{id:1,name:"Active"},{id:2,name:"Pending"},{id:3,name:"Inactive"}],this.checkboxes=[{label:"Customer Name",element:"CustName",isChecked:!0},{label:"Driver Name",element:"DriName",isChecked:!0},{label:"Vehicle",element:"Vehicle",isChecked:!0},{label:"Type",element:"Type",isChecked:!0},{label:"Start Place",element:"StartPlace",isChecked:!0},{label:"End Place",element:"EndPlace",isChecked:!0}]}ngOnInit(){this.BookingSystemService.getArray("booking"),this.listLoader=!0,this.getData(),this.searchControl.valueChanges.pipe((0,A.b)(500)).subscribe(t=>{this.listDetails.value.search=t,this.applyFilter(this.listDetails.value.search)}),this.listDetails=this._formBuilder.group({search:[""]})}search(){this.page=1,this.pageIndex=0,this.pageSize=100,this.startNum=0,this.getData(),this.searchField=!this.searchField}applyFilter(t){this.dataSource.filter=t.trim().toLowerCase()}onPageChange(t){console.log(t),1==this.searchField&&(this.searchField=!this.searchField),this.pageIndex=t.pageIndex,this.page=t.pageIndex+1,this.pageSize=t.pageSize,this.startNum=this.pageSize*t.pageIndex,this.getData()}onSortChange(t){this.sortValue=t.direction,this.columnIndex=this.displayedColumns.indexOf(t.active),this.getData()}getData(){this.index=Number(this.pageIndex*this.pageSize),this.BookingSystemService.getData().subscribe(t=>{var e;if(this.listDetailsData=t,0!=(null===(e=this.listDetailsData)||void 0===e?void 0:e.length)){let t=this.listDetailsData.slice(this.pageIndex*this.pageSize,this.page*this.pageSize);this.dataSource=new Z.by(t)}this.listLoader=!1},t=>{console.error("Error loading data",t)})}deleteDetails(t){confirm("Are you sure you want to delete this details")&&this.BookingSystemService.deleteData(t).subscribe(t=>{D().fire("","Data deleted succesfully","success"),this.getData()})}onCheckboxChange(t){this.displayedColumns=[];let e=[];this.checkboxes.forEach(t=>{0==t.isChecked&&e.push(t.element)}),this.displayedColumns=this.displayedColumns2.filter(t=>!e.includes(t))}updateStatus(){}}return t.\u0275fac=function(e){return new(e||t)(N.Y36(T.qu),N.Y36(n.F0),N.Y36(q.uw),N.Y36(n.gz),N.Y36(b.$))},t.\u0275cmp=N.Xpm({type:t,selectors:[["app-booking-list"]],viewQuery:function(t,e){if(1&t&&(N.Gf(C.NW,5),N.Gf(p.YE,5)),2&t){let t;N.iGM(t=N.CRH())&&(e.paginatior=t.first),N.iGM(t=N.CRH())&&(e.sort=t.first)}},decls:4,vars:2,consts:[[1,"sm:col-span-2","md:col-span-4","flex","flex-col","flex-auto","bg-card","m-6","shadow","overflow-hidden"],[1,"xl:col-span-2","flex","flex-col","flex-auto","overflow-hidden"],["class","wrapper-loader mx-auto mt-6",4,"ngIf"],[4,"ngIf"],[1,"wrapper-loader","mx-auto","mt-6"],["src","assets/images/icons/movingcar.gif","alt","",1,"w30","rounded-full",2,"width","100px","margin-left","auto","margin-right","auto"],[1,"flex","justify-between","p-4",2,"align-items","center"],[1,"flex","items-center","font-bold","text-lg"],[1,"flex","items-center"],["mat-icon-button","",1,"flex","self-center",3,"click"],["svgIcon","mat_solid:search",1,"bb","icon-size-5"],["mat-icon-button","",1,"flex","self-center",3,"matMenuTriggerFor"],[1,"icon-size-5","bb",3,"svgIcon"],["listMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[3,"formGroup"],["class","flex justify-center mt-2","style","align-items: center;",4,"ngIf"],[1,"mat-elevation-z8","mx-4",2,"overflow-x","auto","box-shadow","none!important"],["class","text-center py-3",4,"ngIf"],["mat-menu-item","",3,"click"],[2,"margin-left","5px",3,"ngModel","ngModelChange","change"],[2,"margin-left","5px"],[1,"flex","justify-center","mt-2",2,"align-items","center"],[1,"example-full-width","mr-6",2,"width","70%","height","41px"],["matInput","","placeholder","Search",3,"formControl"],["class","wrapper-loader",4,"ngIf"],[1,"wrapper-loader"],["src","assets/images/img/green_spinner.gif","alt","",1,"w30","rounded-full",2,"width","30px","margin-left","auto","margin-right","auto"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","Sr.No"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","style","width: 80px;",4,"matCellDef"],["matColumnDef","CustName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","style","text-align:left!important; ",4,"matCellDef"],["matColumnDef","DriName"],["matColumnDef","Vehicle"],["matColumnDef","Type"],["matColumnDef","StartPlace"],["matColumnDef","EndPlace"],["matColumnDef","Status"],["mat-cell","","style","width: 100px;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"flex","justify-end",2,"align-items","center"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","length","page"],["mat-header-cell",""],["mat-cell","",2,"width","80px"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"text-align","left!important"],[2,"color","blue","cursor","pointer",3,"routerLink"],["mat-cell","",2,"width","100px"],[1,"flex","flex-row","flex-auto","overflow-hidden","items-center","px-2"],[1,"dropsearch","status"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-row","flex-auto","overflow-hidden","justify-center","items-center","px-2"],["mat-icon-button","","matTooltipPosition","above","matTooltip","Live",1,"flex","self-center","w-6","min-w-0","min-h-0",3,"click"],["svgIcon","mat_solid:where_to_vote",1,"icon-size-4","text-green-400"],["mat-icon-button","","matTooltipPosition","above","matTooltip","Delete",1,"flex","self-center","w-6","min-w-0","min-h-0",3,"click"],["svgIcon","mat_solid:delete",1,"icon-size-4","text-red-400"],["mat-header-row",""],["mat-row",""],[1,"text-center","py-3"]],template:function(t,e){1&t&&(N.TgZ(0,"div",0),N.TgZ(1,"div",1),N.YNc(2,y,2,0,"div",2),N.YNc(3,ot,17,7,"div",3),N.qZA(),N.qZA()),2&t&&(N.xp6(2),N.Q6J("ngIf",e.listLoader),N.xp6(1),N.Q6J("ngIf",!e.listLoader))},directives:[a.O5,o.lW,r.Hw,m.p6,m.VK,a.sg,T._Y,T.JL,T.sg,m.OP,l.oG,T.JJ,T.On,s.KE,c.Nt,T.Fj,T.oH,Z.BZ,p.YE,Z.w1,Z.fO,Z.Dz,Z.as,Z.nj,C.NW,Z.ge,Z.ev,p.nU,n.yS,g.gD,d.ey,f.gM,Z.XQ,Z.Gk],styles:[".mat-form-field.mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0!important}.dropsearch[_ngcontent-%COMP%]{width:-webkit-fill-available!important;min-height:25px!important;width:100px!important}  .mat-form-field.dropsearch.mat-form-field-appearance-fill .mat-form-field-wrapper{margin-bottom:0!important}.pointer[_ngcontent-%COMP%]{cursor:no-drop}  .mat-radio-outer-circle{height:15px!important;width:15px!important}  .mat-paginator .mat-paginator-container .mat-paginator-range-actions{margin:0 10px 10px 0!important}.mat-icon-button[_ngcontent-%COMP%]{min-width:0!important;width:30px!important;min-height:0!important;height:30px!important}  .mat-paginator-icon{width:24px!important}  .mat-paginator-range-label{margin:0 10px!important}  .mat-paginator .mat-paginator-container .mat-paginator-page-size .mat-paginator-page-size-label{margin-bottom:10px!important}"]}),t})()}];var st=i(36063),rt=i(43220),ct=i(34256);let mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=N.oAB({type:t}),t.\u0275inj=N.cJS({imports:[[n.Bz.forChild(lt),o.ot,l.p9,s.lN,r.Ps,c.c,m.Tx,u.Cv,d.si,p.JX,g.LD,h.rP,f.AV,x.m,Z.p0,C.TU,v.Nh,rt.FA,st.Yd,a.ez,ct.X]]}),t})()}}]);